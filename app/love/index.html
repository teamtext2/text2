<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="content-language" content="vi">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#1a103c">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1722731267767270"
    crossorigin="anonymous"></script>
    <!-- SEO Meta Tags chu·∫©n nh·∫•t -->
    <title>B√≥i T√¨nh Y√™u Qua T√™n</title>
    <meta name="description" content="B√≥i T√¨nh Y√™u qua t√™n v·ªõi Text2 chu·∫©n x√°c, mi·ªÖn ph√≠, nhanh ch√≥ng & b·∫£o m·∫≠t. Xem ƒë·ªô h·ª£p ƒë√¥i l·ª©a chi ti·∫øt, nh·∫≠n ph√¢n t√≠ch v√† l·ªùi khuy√™n AI. Th·ª≠ ngay B√≥i T√¨nh Y√™u t·∫°i https://text02.com/app/love.">
    <link rel="canonical" href="https://text02.com/app/love">
    <link rel="alternate" hreflang="vi" href="https://text02.com/app/love" />
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="keywords" content="b√≥i t√¨nh y√™u, b√≥i t√™n t√¨nh duy√™n, b√≥i t√¨nh y√™u b·∫±ng t√™n, b√≥i ƒë·ªô h·ª£p, ki·ªÉm tra t√¨nh y√™u, xem t√¨nh duy√™n, b√≥i c·∫∑p ƒë√¥i, b√≥i ai, text2, b√≥i t√¨nh y√™u mi·ªÖn ph√≠, b√≥i t√¨nh duy√™n ch√≠nh x√°c, ph√¢n t√≠ch t√¨nh c·∫£m, b√≥i ƒë√¥i l·ª©a, t∆∞∆°ng h·ª£p t√¨nh y√™u, AI Matchmaker, xem b√≥i t√¨nh y√™u online, b√≥i h·ª£p t√™n">

    <!-- Social Meta Tags -->
    <meta property="og:locale" content="vi_VN" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://text02.com/app/love" />
    <meta property="og:title" content="B√≥i T√¨nh Y√™u Qua T√™n Ch√≠nh X√°c & Mi·ªÖn Ph√≠ | Text2 B√≥i T√¨nh Y√™u" />
    <meta property="og:description" content="Kh√°m ph√° ƒë·ªô h·ª£p v√† nh·∫≠n ph√¢n t√≠ch t√¨nh c·∫£m mi·ªÖn ph√≠ t·ª´ AI c√πng Text2. B√≥i T√¨nh Duy√™n nhanh ch√≥ng, kh√¥ng thu th·∫≠p d·ªØ li·ªáu. T√¨m hi·ªÉu m·ªëi quan h·ªá c·ªßa b·∫°n ngay!">
    <meta property="og:site_name" content="Text2 - B√≥i T√¨nh Y√™u" />
    <meta property="og:image" content="https://text02.com/share-image-love.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="B√≥i T√¨nh Y√™u Online Mi·ªÖn Ph√≠ & Ch√≠nh X√°c | Text2 B√≥i T√¨nh Y√™u" />
    <meta name="twitter:description" content="B√≥i t√¨nh duy√™n, xem ƒë·ªô h·ª£p t√™n & nh·∫≠n ngay l·ªùi khuy√™n t·ª´ AI. Kh√°m ph√° s·ª± g·∫Øn k·∫øt, m·ª©c ƒë·ªô h·ª£p gi·ªØa b·∫°n & ng∆∞·ªùi ·∫•y c√πng Text2 mi·ªÖn ph√≠." />
    <meta name="twitter:image" content="https://text02.com/share-image-love.png" />

    <!-- Favicon & Web Manifest -->
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">

    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "WebApplication",
      "name": "Text2 - B√≥i T√¨nh Y√™u",
      "url": "https://text02.com/app/love",
      "applicationCategory": "LifestyleApplication",
      "operatingSystem": "All",
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.9",
        "bestRating": "5",
        "worstRating": "1",
        "ratingCount": "327"
      },
      "description": "B√≥i t√¨nh y√™u b·∫±ng t√™n mi·ªÖn ph√≠, ki·ªÉm tra ƒë·ªô h·ª£p, b√≥i t√¨nh duy√™n AI chu·∫©n x√°c, b·∫£o m·∫≠t tuy·ªát ƒë·ªëi. Nh·∫≠n k·∫øt qu·∫£ nhanh v√† l·ªùi khuy√™n t·ª´ AI Text2.",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "VND"
      },
      "image": "https://text02.com/share-image-love.png",
      "inLanguage": "vi"
    }
    </script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'display': ['"Playfair Display"', 'serif'],
                        'body': ['"Plus Jakarta Sans"', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            dark: '#0f0c29',
                            purple: '#302b63',
                            pink: '#ff4b8b',
                            gold: '#ffd700',
                            surface: 'rgba(255, 255, 255, 0.08)',
                        }
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'heartbeat': 'heartbeat 1.5s ease-in-out infinite',
                        'slide-up': 'slideUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'fade-in': 'fadeIn 0.3s ease-out forwards',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        },
                        heartbeat: {
                            '0%, 100%': { transform: 'scale(1)' },
                            '15%': { transform: 'scale(1.15)' },
                            '30%': { transform: 'scale(1)' },
                            '45%': { transform: 'scale(1.15)' },
                            '60%': { transform: 'scale(1)' },
                        },
                        slideUp: {
                            'from': { transform: 'translateY(20px)', opacity: '0' },
                            'to': { transform: 'translateY(0)', opacity: '1' },
                        },
                        fadeIn: {
                            'from': { opacity: '0' },
                            'to': { opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Mobile Optimization */
        body { -webkit-tap-highlight-color: transparent; }
        
        /* Glassmorphism Utilities */
        .glass-header {
            background: rgba(15, 12, 41, 0.8);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .glass-panel {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 24px 0 rgba(0, 0, 0, 0.2);
        }
        
        .glass-input {
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        
        .glass-input:focus {
            background: rgba(0, 0, 0, 0.4);
            border-color: #ff4b8b;
            box-shadow: 0 0 0 4px rgba(255, 75, 139, 0.1);
        }

        /* Animated Background */
        .bg-animated {
            background: linear-gradient(-45deg, #0f0c29, #302b63, #24243e, #1a103c);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            background-attachment: fixed;
        }
        
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Toast Notification */
        .toast {
            visibility: hidden;
            min-width: 250px;
            background-color: rgba(255, 75, 139, 0.9);
            color: white;
            text-align: center;
            border-radius: 50px;
            padding: 12px 24px;
            position: fixed;
            z-index: 100;
            left: 50%;
            bottom: 30px;
            transform: translateX(-50%);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
            opacity: 0;
            transition: opacity 0.3s, bottom 0.3s;
        }

        .toast.show {
            visibility: visible;
            opacity: 1;
            bottom: 50px;
        }
    </style>
</head>
<body class="bg-animated text-white min-h-screen font-body selection:bg-brand-pink selection:text-white pb-20">

    <!-- Background Ambience -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none z-0">
        <div class="absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-purple-600/30 rounded-full blur-[120px] animate-float"></div>
        <div class="absolute bottom-[-10%] right-[-10%] w-[400px] h-[400px] bg-brand-pink/20 rounded-full blur-[100px] animate-float" style="animation-delay: 3s"></div>
    </div>

    <!-- App Header (Fixed) -->
    <nav class="fixed top-0 left-0 w-full z-50 glass-header px-6 py-4 transition-all duration-300">
        <div class="max-w-md mx-auto flex justify-between items-center">
            <!-- Brand -->
            <a href="https://text02.com" class="flex items-center gap-3 cursor-pointer" onclick="resetApp()">
                <div class="w-10 h-10 rounded-xl bg-gradient-to-tr from-brand-pink to-purple-600 flex items-center justify-center shadow-lg shadow-brand-pink/20">
                    <i class="fa-solid fa-heart text-white text-sm"></i>
                </div>
                <div>
                    <h1 class="font-display font-bold text-lg tracking-wide leading-none">Text2 Love</h1>
                    <span class="text-[10px] text-white/50 tracking-widest uppercase">AI By Text2r</span>
                </div>
            </a>
            
            <!-- Menu Action -->
            <a href="https://text02.com" aria-label="Trang ch·ªß Text2" class="w-10 h-10 flex items-center justify-center rounded-full hover:bg-white/10 transition-colors active:scale-95">
                <i class="fa-solid fa-house text-white/80"></i>
            </a>
        </div>
    </nav>

    <!-- Main Content Container -->
    <main class="relative z-10 w-full max-w-md mx-auto px-5 pt-28 flex flex-col min-h-screen justify-start md:justify-center">
        
        <!-- View Container -->
        <div id="app-container" class="w-full relative min-h-[500px]">
            
            <!-- VIEW 1: INPUT FORM -->
            <div id="view-input" class="w-full animate-slide-up">
                <!-- SEO Heading -->
                <h1 class="hidden">B√≥i T√¨nh Y√™u Qua T√™n Ch√≠nh X√°c Mi·ªÖn Ph√≠ - Xem ƒê·ªô H·ª£p ƒê√¥i L·ª©a Online | Text2</h1>
                <!-- Welcome Text -->
                <div class="mb-8 text-center">
                    <h2 class="font-display text-3xl font-bold mb-2">Text2 - B√≥i T√¨nh Y√™u</h2>
                </div>

                <!-- Card -->
                <div class="glass-panel rounded-[2rem] p-1">
                    <div class="bg-black/20 rounded-[1.8rem] p-6 space-y-6">
                        
                        <!-- Person 1 -->
                        <div class="space-y-2">
                            <label class="text-xs font-bold text-pink-300 uppercase tracking-wider ml-1" for="name1">Ng∆∞·ªùi Nam</label>
                            <div class="relative group">
                                <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                    <i class="fa-solid fa-user text-white/40 group-focus-within:text-brand-pink transition-colors"></i>
                                </div>
                                <input type="text" id="name1" name="nguoi-thu-nhat" placeholder="T√™n b·∫°n nam" 
                                    class="glass-input w-full rounded-2xl py-4 pl-12 pr-4 text-base placeholder-white/20 focus:outline-none" 
                                    autocomplete="off" maxlength="32" required aria-label="Nh·∫≠p t√™n ng∆∞·ªùi th·ª© nh·∫•t ƒë·ªÉ b√≥i t√¨nh y√™u" />
                            </div>
                        </div>

                        <!-- Connector -->
                        <div class="relative flex items-center justify-center py-2">
                            <div class="h-[1px] w-full bg-gradient-to-r from-transparent via-white/10 to-transparent absolute"></div>
                            <div class="w-10 h-10 rounded-full bg-gradient-to-br from-brand-pink to-purple-600 flex items-center justify-center shadow-lg shadow-brand-pink/30 z-10 border-4 border-[#1a1333]">
                                <i class="fa-solid fa-heart text-white text-xs animate-pulse"></i>
                            </div>
                        </div>

                        <!-- Person 2 -->
                        <div class="space-y-2">
                            <label class="text-xs font-bold text-pink-300 uppercase tracking-wider ml-1" for="name2">Ng∆∞·ªùi N·ªØ</label>
                            <div class="relative group">
                                <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                    <i class="fa-solid fa-user text-white/40 group-focus-within:text-purple-400 transition-colors"></i>
                                </div>
                                <input type="text" id="name2" name="nguoi-thu-hai" placeholder="T√™n b·∫°n n·ªØ" 
                                    class="glass-input w-full rounded-2xl py-4 pl-12 pr-4 text-base placeholder-white/20 focus:outline-none" 
                                    autocomplete="off" maxlength="32" required aria-label="Nh·∫≠p t√™n ng∆∞·ªùi th·ª© hai ƒë·ªÉ b√≥i t√¨nh y√™u" />
                            </div>
                        </div>

                        <!-- Submit Button -->
                        <button id="submitButton" class="w-full mt-4 group relative overflow-hidden rounded-2xl bg-gradient-to-r from-brand-pink to-purple-600 p-[1px] shadow-xl shadow-brand-pink/20 transition-transform active:scale-[0.98]" aria-label="Xem k·∫øt qu·∫£ b√≥i t√¨nh y√™u">
                            <div class="relative bg-white/10 backdrop-blur-sm group-hover:bg-transparent rounded-2xl py-4 transition-all duration-300">
                                <span class="flex items-center justify-center gap-2 font-bold text-lg tracking-wide">
                                    <i class="fa-solid fa-wand-magic-sparkles"></i>
                                    Xem K·∫øt Qu·∫£
                                </span>
                            </div>
                        </button>

                    </div>
                </div>

                <!-- Footer Info -->
                <div class="mt-8 text-center text-white/30 text-xs font-medium">
                    <p>B·∫£o m·∫≠t 100% ‚Ä¢ Kh√¥ng l∆∞u tr·ªØ d·ªØ li·ªáu</p>
                    <p class="mt-1">¬© 2025 <a href="https://text02.com" class="hover:underline text-white/40">Text2 Technology</a></p>
                    <p class="mt-1"><a href="https://text02.com" class="hover:underline text-white/50">Trang ch·ªß Text2</a> | <a href="https://text02.com/app/love" class="hover:underline text-white/50">Text2 B√≥i T√¨nh Y√™u</a></p>
                </div>
            </div>

            <!-- VIEW 2: LOADING (Overlay Style) -->
            <div id="view-loading" class="hidden absolute inset-0 glass-panel rounded-[2rem] flex flex-col items-center justify-center text-center z-20" aria-live="polite">
                <div class="relative w-32 h-32 mb-6">
                    <div class="absolute inset-0 border-[6px] border-white/5 rounded-full"></div>
                    <div class="absolute inset-0 border-[6px] border-t-brand-pink border-r-transparent border-b-purple-500 border-l-transparent rounded-full animate-spin"></div>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <div class="w-16 h-16 bg-gradient-to-tr from-brand-pink to-purple-600 rounded-full flex items-center justify-center shadow-[0_0_30px_rgba(255,75,139,0.5)] animate-heartbeat">
                            <i class="fa-solid fa-heart text-2xl text-white"></i>
                        </div>
                    </div>
                </div>
                <h3 class="font-display text-2xl font-bold text-white mb-2">ƒêang k·∫øt n·ªëi...</h3>
                <p id="loading-text" class="text-white/60 text-sm animate-pulse px-4">ƒêang t√¨m ki·∫øm t√≠n hi·ªáu t·ª´ v≈© tr·ª• v·ªõi Text2 - B√≥i T√¨nh Y√™u...</p>
            </div>

            <!-- VIEW 3: RESULT -->
            <div id="view-result" class="hidden w-full animate-slide-up pb-10">
                
                <!-- Result Header -->
                <div class="glass-panel rounded-[2.5rem] p-8 text-center relative overflow-hidden mb-4">
                    <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-brand-pink to-transparent opacity-50"></div>
                    
                    <div class="relative z-10">
                        <h2 class="font-display text-white/70 text-base mb-6 uppercase tracking-widest">ƒê·ªô T∆∞∆°ng H·ª£p</h2>
                        
                        <!-- Score Display -->
                        <div class="relative w-56 h-56 mx-auto flex items-center justify-center">
                            <!-- Background Circles -->
                            <div class="absolute inset-0 rounded-full border border-white/5"></div>
                            <div class="absolute inset-4 rounded-full border border-white/5 border-dashed animate-[spin_10s_linear_infinite]"></div>
                            
                            <!-- Main SVG Circle -->
                            <svg class="w-full h-full transform -rotate-90 drop-shadow-[0_0_15px_rgba(255,75,139,0.3)]" role="img" aria-label="Bi·ªÉu ƒë·ªì t·ªâ l·ªá h·ª£p ƒë√¥i">
                                <circle cx="112" cy="112" r="90" stroke="rgba(255,255,255,0.05)" stroke-width="8" fill="none"/>
                                <circle id="score-circle" cx="112" cy="112" r="90" stroke="url(#gradient)" stroke-width="8" fill="none" 
                                    stroke-dasharray="565" stroke-dashoffset="565" stroke-linecap="round" class="transition-all duration-[2000ms] ease-out"/>
                                <defs>
                                    <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                        <stop offset="0%" stop-color="#ff4b8b" />
                                        <stop offset="100%" stop-color="#9333ea" />
                                    </linearGradient>
                                </defs>
                            </svg>
                            
                            <!-- Score Text -->
                            <div class="absolute inset-0 flex flex-col items-center justify-center">
                                <span id="score-text" class="font-display text-7xl font-bold text-white tracking-tighter">0%</span>
                                <span id="verdict-text" class="text-xs font-bold text-brand-gold bg-brand-gold/10 px-3 py-1 rounded-full mt-2 uppercase tracking-wide">...</span>
                            </div>
                        </div>

                        <!-- Names -->
                        <div class="flex items-center justify-center gap-3 mt-6 text-lg font-medium">
                            <span class="text-pink-300" id="res-name1">Name 1</span>
                            <i class="fa-solid fa-heart text-xs text-white/30"></i>
                            <span class="text-purple-300" id="res-name2">Name 2</span>
                        </div>
                    </div>
                </div>

                <!-- Analysis Content -->
                <div class="glass-panel rounded-[2rem] p-6 relative">
                    <div class="absolute -top-3 left-6 bg-brand-pink text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg">
                        <i class="fa-solid fa-sparkles mr-1"></i> L·ªùi khuy√™n AI - Text2 B√≥i T√¨nh Y√™u
                    </div>
                    
                    <div class="mt-4 prose prose-invert prose-sm max-w-none">
                        <p id="analysis-text" class="text-white/90 leading-relaxed font-body text-justify italic">
                            <!-- AI Text Here -->
                        </p>
                    </div>

                    <!-- Action Buttons -->
                    <div class="mt-6 flex gap-3">
                        <button onclick="resetApp()" class="flex-1 py-3 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 font-medium transition-colors text-sm" aria-label="L√†m l·∫°i b√≥i t√¨nh y√™u">
                            <i class="fa-solid fa-rotate-right mr-2"></i>Th·ª≠ l·∫°i
                        </button>
                        <button onclick="copyResult()" class="flex-1 py-3 rounded-xl bg-brand-pink hover:bg-pink-600 shadow-lg shadow-brand-pink/20 font-bold transition-all text-sm active:scale-95" aria-label="Chia s·∫ª k·∫øt qu·∫£ b√≥i t√¨nh y√™u">
                            <i class="fa-regular fa-copy mr-2"></i>Chia s·∫ª
                        </button>
                    </div>
                </div>

            </div>
        </div>
    </main>

    <!-- Toast UI -->
    <div id="toast" class="toast" role="alert" aria-live="assertive">
        <i class="fa-solid fa-circle-check mr-2"></i>
        <span id="toast-message">Th√¥ng b√°o</span>
    </div>

    <!-- JS Logic -->
    <script>
        // DOM Elements
        const views = {
            input: document.getElementById('view-input'),
            loading: document.getElementById('view-loading'),
            result: document.getElementById('view-result')
        };
        const inputs = {
            name1: document.getElementById('name1'),
            name2: document.getElementById('name2')
        };
        const els = {
            submitBtn: document.getElementById('submitButton'),
            loadingText: document.getElementById('loading-text'),
            scoreCircle: document.getElementById('score-circle'),
            scoreText: document.getElementById('score-text'),
            verdictText: document.getElementById('verdict-text'),
            analysisText: document.getElementById('analysis-text'),
            resName1: document.getElementById('res-name1'),
            resName2: document.getElementById('res-name2'),
            toast: document.getElementById('toast'),
            toastMsg: document.getElementById('toast-message')
        };

        // Loading Messages
        const loadingMessages = [
            "Text2 - ƒêang k·∫øt n·ªëi v·ªõi c√°c v√¨ sao ƒë·ªÉ b√≥i t√¨nh y√™u...",
            "Text2 - ƒêang ph√¢n t√≠ch t·∫ßn s·ªë rung ƒë·ªông v√† ƒë·ªô h·ª£p t√™n...",
            "Text2 - ƒêang tra c·ª©u h·ªì s∆° ƒë·ªãnh m·ªánh t√¨nh y√™u c·ªßa hai b·∫°n...",
            "Text2 - ƒêang h·ªèi √Ω ki·∫øn th·∫ßn Cupid, ki·ªÉm tra t∆∞∆°ng h·ª£p t√¨nh duy√™n...",
            "Text2 - ƒêang t√≠nh to√°n nh√¢n duy√™n d·ª±a tr√™n t√™n v·ªõi c√¥ng ngh·ªá AI c·ªßa Text2..."
        ];

        // --- CORE LOGIC ---

        function showToast(message, isError = false) {
            els.toastMsg.innerText = message;
            els.toast.style.backgroundColor = isError ? 'rgba(239, 68, 68, 0.9)' : 'rgba(255, 75, 139, 0.9)';
            els.toast.className = "toast show";
            setTimeout(() => { els.toast.className = els.toast.className.replace("show", ""); }, 3000);
        }

        function switchView(viewName) {
            // Simple view switching logic
            if (viewName === 'loading') {
                views.loading.classList.remove('hidden');
                views.input.classList.add('opacity-50', 'pointer-events-none');
            } else if (viewName === 'result') {
                views.loading.classList.add('hidden');
                views.input.classList.add('hidden');
                views.input.classList.remove('opacity-50', 'pointer-events-none');
                views.result.classList.remove('hidden');
            } else if (viewName === 'input') {
                views.loading.classList.add('hidden');
                views.result.classList.add('hidden');
                views.input.classList.remove('hidden');
            }
        }

        els.submitBtn.addEventListener('click', async () => {
            const n1 = inputs.name1.value.trim();
            const n2 = inputs.name2.value.trim();

            if (!n1 || !n2) {
                showToast("Vui l√≤ng nh·∫≠p t√™n c·∫£ hai ng∆∞·ªùi ƒë·ªÉ Text2 b√≥i t√¨nh y√™u chu·∫©n x√°c cho b·∫°n!", true);
                // Shake effect
                inputs.name1.parentElement.classList.add('animate-pulse');
                setTimeout(() => inputs.name1.parentElement.classList.remove('animate-pulse'), 500);
                return;
            }

            // Prepare UI
            els.resName1.innerText = n1;
            els.resName2.innerText = n2;
            switchView('loading');
            
            // Cycle loading text
            let msgIdx = 0;
            const msgInterval = setInterval(() => {
                els.loadingText.innerText = loadingMessages[msgIdx % loadingMessages.length];
                msgIdx++;
            }, 1500);

            // Logic calculation
            const score = calculateScore(n1, n2);
            
            // Fetch AI
            try {
                const aiText = await fetchGeminiAnalysis(n1, n2, score);
                clearInterval(msgInterval);
                showResult(score, aiText);
            } catch (e) {
                clearInterval(msgInterval);
                showResult(score, "C√°c v√¨ sao c·ªßa Text2 ƒëang b·∫≠n r·ªôn m·ªôt ch√∫t, nh∆∞ng tr√°i tim m√°ch b·∫£o r·∫±ng hai b·∫°n c√≥ m·ªôt s·ª£i d√¢y li√™n k·∫øt ƒë·∫∑c bi·ªát. H√£y tin v√†o tr·ª±c gi√°c c·ªßa ch√≠nh m√¨nh nh√©! ‚ù§Ô∏è");
            }
        });

        // Normalize helper
        const normalize = (str) => {
            return str.toLowerCase()
                .normalize("NFD").replace(/[\u0300-\u036f]/g, "")
                .replace(/[^a-z]/g, "");
        };

        function calculateScore(name1, name2) {
            const n1 = normalize(name1);
            const n2 = normalize(name2);

            // Special Pairs Check
            const specialPairs = [
                { p1: 'nhatanh', p2: 'ngochan' },
                { p1: 'hoanhatanh', p2: 'thingochan' },
                { p1: 'huyhoang', p2: 'kimngan' },
                { p1: 'anh', p2: 'han' }
            ];

            const isSpecial = specialPairs.some(pair => 
                (n1 === pair.p1 && n2 === pair.p2) || (n1 === pair.p2 && n2 === pair.p1)
            );

            if (isSpecial) return 100;

            // Simple Algo
            const seed = (n1 + n2).split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
            return 60 + (seed % 41); 
        }

        async function fetchGeminiAnalysis(n1, n2, score) {
            await new Promise(r => setTimeout(r, 2000)); // UX Delay
            
            const apiKey = ""; // Runtime Key
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
            
            const prompt = `B·∫°n l√† m·ªôt b√† ti√™n t√¨nh y√™u GenZ, n√≥i chuy·ªán cute, trendy nh∆∞ng s√¢u s·∫Øc.
            H√£y b√≥i t√¨nh duy√™n cho c·∫∑p ƒë√¥i: ${n1} v√† ${n2} (ƒê·ªô h·ª£p: ${score}%).
            Vi·∫øt ng·∫Øn g·ªçn 3 c√¢u:
            1. Nh·∫≠n x√©t v·ªÅ ƒë·ªô h·ª£p.
            2. ƒêi·ªÉm m·∫°nh c·ªßa m·ªëi quan h·ªá.
            3. M·ªôt l·ªùi khuy√™n ho·∫∑c c√¢u th√≠nh th·∫≠t ng·ªçt.
            D√πng emoji, kh√¥ng l·∫∑p l·∫°i s·ªë ƒëi·ªÉm.`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: prompt }] }]
                    })
                });
                const data = await response.json();
                return data.candidates[0].content.parts[0].text;
            } catch (e) {
                console.error(e);
                throw e;
            }
        }

        function showResult(score, text) {
            switchView('result');
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            // Animate Score
            // 2 * PI * r (r=90) approx 565
            const circleCircumference = 565; 
            const offset = circleCircumference - (score / 100) * circleCircumference;
            
            // Reset
            els.scoreCircle.style.strokeDashoffset = circleCircumference;
            els.scoreText.innerText = "0%";
            
            setTimeout(() => {
                els.scoreCircle.style.strokeDashoffset = offset;
                
                let currentScore = 0;
                const interval = setInterval(() => {
                    if (currentScore >= score) {
                        clearInterval(interval);
                        return;
                    }
                    currentScore++;
                    els.scoreText.innerText = `${currentScore}%`;
                }, 20);
            }, 300);

            // Set verdict text
            let verdict = "";
            if (score === 100) verdict = "ƒê·ªãnh m·ªánh";
            else if (score >= 90) verdict = "Ho√†n h·∫£o";
            else if (score >= 80) verdict = "R·ª±c r·ª°";
            else if (score >= 60) verdict = "Tri·ªÉn v·ªçng";
            else verdict = "C·ªë g·∫Øng";
            
            els.verdictText.innerText = verdict;
            els.analysisText.innerText = text;
        }

        function resetApp() {
            inputs.name1.value = "";
            inputs.name2.value = "";
            switchView('input');
        }

        function copyResult() {
            const text = `Text2 - B√≥i T√¨nh Y√™u:\n${inputs.name1.value} ‚ù§Ô∏è ${inputs.name2.value}\nƒê·ªô h·ª£p: ${els.scoreText.innerText}\n"${els.analysisText.innerText}"\nüëâ Th·ª≠ ngay t·∫°i: https://text02.com/app/love`;
            navigator.clipboard.writeText(text);
            showToast("ƒê√£ sao ch√©p k·∫øt qu·∫£ B√≥i T√¨nh Y√™u Text2!");
        }
    </script>
</body>
</html>