<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Google tag (gtag.js) - GA4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ABCDEFG123"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'G-6J85STMJ14');
  </script>
    <!-- Primary Meta Tags -->
    <title>text2 QR Scan</title>
    <meta name="google" content="notranslate"> 
    <meta name="title" content="text2 QR Scan - Free Online QR Code Scanner | Text2.pro">
    <meta name="description" content="text2 QR Scan - Free online QR code scanner by Text2.pro. Fast, accurate QR code scanning from phone and computer cameras. No app installation required for text2 QR Scan.">
    <meta name="keywords" content="text2 QR Scan, text2 qr scanner, qr scan, qr code scanner, text2, online qr scanner, free qr scanner, qr reader, barcode scanner, text2.pro">
    <meta name="author" content="Text2.pro">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="revisit-after" content="7 days">

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1722731267767270"
    crossorigin="anonymous"></script>

    <!-- Canonical URL -->
    <link rel="canonical" href="https://text2.pro/app/qr/scan/">
    
    <!-- Favicon and Icons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">
    <link rel="manifest" href="site.webmanifest">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://text2.pro/app/qr/scan/">
    <meta property="og:title" content="text2 QR Scan - Free Online QR Code Scanner | Text2.pro">
    <meta property="og:description" content="text2 QR Scan - Free online QR code scanner by Text2.pro. Fast, accurate QR code scanning from phone and computer cameras.">
    <meta property="og:image" content="https://text2.pro/og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="text2 QR Scan - Online QR code scanner by Text2.pro">
    <meta property="og:site_name" content="Text2.pro">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://text2.pro/app/qr/scan/">
    <meta property="twitter:title" content="text2 QR Scan - Free Online QR Code Scanner | Text2.pro">
    <meta property="twitter:description" content="text2 QR Scan - Free online QR code scanner by Text2.pro. Fast, accurate QR code scanning from phone and computer cameras.">
    <meta property="twitter:image" content="https://text2.pro/og-image.jpg">
    <meta property="twitter:image:alt" content="text2 QR Scan - Online QR code scanner by Text2.pro">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="theme-color" content="#000000">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="msapplication-config" content="/browserconfig.xml">
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    
    <!-- DNS Prefetch -->
    <link rel="dns-prefetch" href="//cdn.tailwindcss.com">
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    
    <!-- Breadcrumb Navigation -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Text2.pro",
                "item": "https://text2.pro"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "QR Tools",
                "item": "https://text2.pro/app/qr/"
            },
            {
                "@type": "ListItem",
                "position": 3,
                "name": "text2 QR Scan",
                "item": "https://text2.pro/app/qr/scan/"
            }
        ]
    }
    </script>
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "text2 QR Scan",
        "alternateName": ["text2 QR Scanner", "Text2 QR Code Scanner"],
        "description": "text2 QR Scan - Free online QR code scanner by Text2.pro. Fast, accurate QR code scanning from phone and computer cameras. No app installation required.",
        "url": "https://text2.pro/app/qr/scan/",
        "applicationCategory": "UtilitiesApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Text2.pro",
            "url": "https://text2.pro",
            "logo": {
                "@type": "ImageObject",
                "url": "https://text2.pro/logo.png"
            }
        },
        "creator": {
            "@type": "Organization",
            "name": "Text2.pro",
            "url": "https://text2.pro"
        },
        "keywords": "text2 QR Scan, text2 qr scanner, qr scan, qr code scanner, online qr scanner",
        "inLanguage": "en",
        "browserRequirements": "Requires JavaScript. Requires HTML5.",
        "softwareVersion": "1.0",
        "screenshot": "https://text2.pro/screenshot.jpg",
        "featureList": [
            "Free QR code scanning",
            "Camera-based scanning",
            "No app installation required",
            "Fast and accurate detection",
            "Support for URLs and text"
        ],
        "isPartOf": {
            "@type": "WebSite",
            "name": "Text2.pro",
            "url": "https://text2.pro"
        }
    }
    </script>
    
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load jsQR library for QR decoding -->
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>
    <style>
        /* Ensure full-screen layout, native app feel */
        html, body {
            overscroll-behavior: none;
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        /* Video feed should fill the screen, object-fit: cover to prevent distortion */
        #video-feed {
            position: absolute;
            top: 50%;
            left: 50%;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            transform: translateX(-50%) translateY(-50%);
            object-fit: cover;
            z-index: 10;
        }

        /* Dark overlay layer, creates focus effect */
        .video-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 20;
        }

        /* Scanner area with border and "laser" effect */
        .scanner-box {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 70vw;
            max-width: 280px;
            height: 70vw;
            max-height: 280px;
            border: 2px solid rgba(255, 255, 255, 0.7);
            border-radius: 16px;
            box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.6);
            /* Transparent "window" area using box-shadow */
            z-index: 30;
            overflow: hidden; /* To contain laser beam */
        }

        /* Laser beam scanning effect */
        .laser-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: #34d399; /* Green color */
            box-shadow: 0 0 10px #34d399, 0 0 20px #34d399;
            animation: scan 2.5s infinite cubic-bezier(0.5, 0, 0.5, 1);
        }

        /* Animation for laser beam */
        @keyframes scan {
            0% { top: 0; }
            50% { top: 100%; }
            100% { top: 0; }
        }

        /* Result panel, hidden below screen */
        #result-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            color: #1f2937;
            border-top-left-radius: 24px;
            border-top-right-radius: 24px;
            padding: 24px;
            padding-bottom: 40px; /* Extra padding for safe area (notch) */
            z-index: 50;
            box-shadow: 0 -10px 30px rgba(0, 0, 0, 0.1);
            /* Smooth transition effect */
            transform: translateY(100%);
            transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        /* "Active" state when panel slides up */
        #result-panel.active {
            transform: translateY(0);
        }

        /* Grip bar (visual indicator) */
        .grip-bar {
            width: 50px;
            height: 5px;
            background: #d1d5db; /* Light gray */
            border-radius: 3px;
            margin: 0 auto 16px;
        }

        /* Hide canvas used for processing, no need to display */
        #qr-canvas {
            display: none;
        }

        /* Error notification (e.g., no camera access) */
        #permission-error {
            display: none; /* Hidden initially */
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            z-index: 60;
        }
    </style>
</head>
<body class="bg-black">

    <!-- Main app container -->
    <div class="relative w-full h-screen overflow-hidden">
        
        <!-- Video stream from camera -->
        <video id="video-feed" playsinline></video>
        
        <!-- Hidden canvas for jsQR processing -->
        <canvas id="qr-canvas"></canvas>

        <!-- Overlay and scanner interface -->
        <div class="video-overlay"></div>
        <div class="scanner-box">
            <div class="laser-line"></div>
        </div>

        <!-- App title -->
        <div class="absolute top-0 left-0 right-0 p-6 z-40 text-center">
            <h1 class="text-xl font-bold text-white shadow-lg">QR Code Scanner</h1>
        </div>

        <!-- Error notification panel (e.g., no permission) -->
        <div id="permission-error">
            <h2 class="font-bold text-lg mb-2">Camera Error</h2>
            <p>Unable to access camera. Please grant camera permission in your browser.</p>
        </div>

        <!-- Result panel (slides up from bottom) -->
        <div id="result-panel">
            <div class="grip-bar"></div>
            <h2 class="text-2xl font-bold text-center mb-4">Scan Result</h2>
            
            <!-- Display QR content -->
            <div class="bg-gray-100 p-4 rounded-lg mb-5 max-h-32 overflow-y-auto">
                <code id="result-text" class="text-gray-800 break-words"></code>
            </div>

            <!-- Action buttons -->
            <a id="open-link-btn" 
               href="#" 
               target="_blank" 
               class="hidden w-full bg-blue-600 text-white font-bold py-3 px-5 rounded-lg text-center transition duration-200 hover:bg-blue-700">
                Open Link
            </a>
            
            <button id="scan-again-btn" 
                    class="w-full bg-gray-200 text-gray-800 font-bold py-3 px-5 rounded-lg text-center mt-3 transition duration-200 hover:bg-gray-300">
                Scan Again
            </button>
        </div>
    </div>

    <script>
        // Get DOM elements
        const video = document.getElementById('video-feed');
        const canvasElement = document.getElementById('qr-canvas');
        const canvas = canvasElement.getContext('2d');
        const resultPanel = document.getElementById('result-panel');
        const resultText = document.getElementById('result-text');
        const openLinkBtn = document.getElementById('open-link-btn');
        const scanAgainBtn = document.getElementById('scan-again-btn');
        const errorPanel = document.getElementById('permission-error');

        // State variables to stop scanning loop when found
        let isScanning = true;
        let streamInstance = null; // To store and stop stream
        let animationFrameId = null;

        // Function to start camera
        async function startScanner() {
            try {
                // Prefer rear camera (environment)
                const stream = await navigator.mediaDevices.getUserMedia({ 
                    video: { facingMode: 'environment' } 
                });
                
                streamInstance = stream; // Save stream reference
                video.srcObject = stream;
                
                // Wait for video to be ready
                video.onloadedmetadata = () => {
                    video.play();
                    // Set canvas size to match video size
                    canvasElement.width = video.videoWidth;
                    canvasElement.height = video.videoHeight;
                    
                    // Start scanning loop
                    isScanning = true;
                    animationFrameId = requestAnimationFrame(tick);
                };
            } catch (err) {
                console.error("Camera access error: ", err);
                // Show error notification
                errorPanel.style.display = 'block';
            }
        }

        // Scanning loop (runs every frame)
        function tick() {
            if (!isScanning) {
                return; // Stop scanning if result found
            }

            // Only scan if video has enough data
            if (video.readyState === video.HAVE_ENOUGH_DATA) {
                // Draw current video frame to hidden canvas
                canvas.drawImage(video, 0, 0, canvasElement.width, canvasElement.height);
                
                // Get image data from canvas
                const imageData = canvas.getImageData(0, 0, canvasElement.width, canvasElement.height);
                
                // Use jsQR to find QR code
                const code = jsQR(imageData.data, imageData.width, imageData.height, {
                    inversionAttempts: "dontInvert", // Speed optimization
                });

                if (code) {
                    // QR code found!
                    isScanning = false;
                    showResult(code.data);
                    
                    // Stop camera and loop
                    if (streamInstance) {
                        streamInstance.getTracks().forEach(track => track.stop());
                    }
                    if (animationFrameId) {
                        cancelAnimationFrame(animationFrameId);
                    }
                    
                }
            }

            // Continue loop if not found
            if (isScanning) {
                animationFrameId = requestAnimationFrame(tick);
            }
        }

        // Function to display result and slide panel up
        function showResult(data) {
            resultText.textContent = data;
            
            // Check if it's a URL to show "Open Link" button
            if (data.startsWith('http://') || data.startsWith('https://') || data.startsWith('www.')) {
                openLinkBtn.href = data;
                openLinkBtn.style.display = 'block';
            } else {
                openLinkBtn.style.display = 'none';
            }

            // Activate transition
            resultPanel.classList.add('active');
            
            // Pause video (even though stream is stopped)
            video.pause();
        }

        // Function to hide panel and scan again
        function scanAgain() {
            resultPanel.classList.remove('active');
            
            // Wait for slide down animation to complete before restarting camera
            setTimeout(() => {
                // Clear previous result
                resultText.textContent = '';
                openLinkBtn.style.display = 'none';
                
                // Restart scanner
                startScanner();
            }, 400); // 400ms matches transition duration
        }

        // Assign event listener to "Scan Again" button
        scanAgainBtn.addEventListener('click', scanAgain);

        // Start scanning when page loads
        window.addEventListener('load', startScanner);
    </script>
</body>
</html>
